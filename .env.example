# Demiurge-Blockchain Environment Configuration
# Copy this file to .env and fill in your values
# NEVER commit .env to version control!

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================

# PostgreSQL connection string for QOR Auth service
# Format: postgres://username:password@host:port/database
POSTGRES_PASSWORD=your-secure-postgres-password-change-in-production

# ============================================================================
# JWT SECRETS (CRITICAL - CHANGE IN PRODUCTION!)
# ============================================================================

# JWT Access Token Secret (used for short-lived access tokens)
# Generate a secure random string (minimum 32 characters)
JWT_ACCESS_SECRET=your-super-secret-access-key-minimum-32-characters-change-in-production

# JWT Refresh Token Secret (used for long-lived refresh tokens)
# Generate a different secure random string (minimum 32 characters)
JWT_REFRESH_SECRET=your-super-secret-refresh-key-minimum-32-characters-change-in-production

# ============================================================================
# BLOCKCHAIN CONFIGURATION
# ============================================================================

# Blockchain WebSocket URL (for frontend connection)
# Development: ws://localhost:9944
# Production: wss://demiurge.cloud/rpc
NEXT_PUBLIC_BLOCKCHAIN_WS_URL=ws://localhost:9944

# Blockchain RPC URL (for backend services)
# Development: ws://localhost:9944
# Production: wss://demiurge.cloud/rpc
SUBSTRATE_RPC_URL=ws://localhost:9944

# ============================================================================
# API CONFIGURATION
# ============================================================================

# API Base URL (for frontend API calls)
# Development: http://localhost:3000
# Production: https://demiurge.cloud/api
NEXT_PUBLIC_API_URL=http://localhost:3000

# ============================================================================
# QOR AUTH SERVICE CONFIGURATION
# ============================================================================

# QOR Auth Service Host
QOR_AUTH__SERVER__HOST=0.0.0.0

# QOR Auth Service Port
QOR_AUTH__SERVER__PORT=8080

# Database URL (can override POSTGRES_PASSWORD)
QOR_AUTH__DATABASE__URL=postgres://qor_auth:${POSTGRES_PASSWORD}@postgres:5432/qor_auth

# Redis URL
QOR_AUTH__REDIS__URL=redis://redis:6379

# JWT Configuration (can override JWT_ACCESS_SECRET and JWT_REFRESH_SECRET)
QOR_AUTH__JWT__ACCESS_SECRET=${JWT_ACCESS_SECRET}
QOR_AUTH__JWT__REFRESH_SECRET=${JWT_REFRESH_SECRET}
QOR_AUTH__JWT__ISSUER=qor-auth
QOR_AUTH__JWT__ACCESS_EXPIRY_SECS=900
QOR_AUTH__JWT__REFRESH_EXPIRY_SECS=2592000

# ============================================================================
# ENVIRONMENT
# ============================================================================

# Environment mode: development, staging, production
NODE_ENV=development
RUN_ENV=development

# ============================================================================
# SECURITY NOTES
# ============================================================================

# 1. Generate secure passwords using:
#    openssl rand -base64 32

# 2. For JWT secrets, use:
#    openssl rand -hex 32

# 3. Never commit .env files to version control

# 4. Use different secrets for each environment

# 5. Rotate secrets regularly in production

# ============================================================================
# DOCKER COMPOSE OVERRIDES
# ============================================================================

# These variables are used by docker-compose.production.yml
# They override the defaults in the compose file

# PostgreSQL
POSTGRES_USER=qor_auth
POSTGRES_DB=qor_auth

# Redis (if using custom Redis)
REDIS_PASSWORD=

# ============================================================================
# OPTIONAL CONFIGURATION
# ============================================================================

# Enable debug logging (development only)
DEBUG=false

# Enable telemetry (optional)
ENABLE_TELEMETRY=false

# Prometheus metrics port (if enabled)
PROMETHEUS_PORT=9615
